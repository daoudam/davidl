<!DOCTYPE html><html lang=fr><head prefix="og: http://ogp.me/ns# dc: http://purl.org/dc/terms/"><meta charset=utf-8 /><meta content="width=device-width" name=viewport /><meta content="IE=edge" http-equiv=X-UA-Compatible /><title>Foundation 5, interchange et Google maps</title><meta content="" name=description /><meta content="index,follow" name=robots /><meta content="David Leuliette" property="dc:creator"/><meta content="text/html" property="dc:format"/><meta content=fr-FR property="dc:language"/><meta content="DavidL design + développement" property="og:site_name"/><meta content=website property="og:type"/><meta content="http://davidl.fr" property="og:url"/><meta content="Foundation 5, interchange et Google maps" property="og:title"/><meta content="" property="og:description"/><meta content="http://davidl.fr/apple-touch-icon-144x144-precomposed.png" property="og:image"/><meta content="50.629250;3.057256" name="geo.position"/><meta content="Lille, Nord" name="geo.placename"/><meta content=FR-59 name="geo.region"/><meta content="DavidL design + développement" name="twitter:card"/><meta content="@_flexbox" name="twitter:site"/><meta content="@_flexbox" name="twitter:creator"/><meta content="http://davidl.fr" name="twitter:domain"/><meta content="Foundation 5, interchange et Google maps" name="twitter:title"/><meta content="" name="twitter:description"/><meta content="" name="twitter:image:src"/><meta content="Foundation 5, interchange et Google maps" itemprop=name /><meta content="" itemprop=description /><meta content="http://davidl.fr/apple-touch-icon-144x144-precomposed.png" itemprop=image /><link href="https://plus.google.com/+DavidLeulietteWeb" rel=publisher /><link href="/feed.xml" rel=alternate title="DavidL design + développement" type="application/rss+xml"/><link href="/apple-touch-icon.png" rel=apple-touch-icon sizes=57x57 /><link href="/apple-touch-icon-57x57-precomposed.png" rel=apple-touch-icon sizes=57x57 /><link href="/apple-touch-icon-60x60-precomposed.png" rel=apple-touch-icon sizes=60x60 /><link href="/apple-touch-icon-72x72-precomposed.png" rel=apple-touch-icon sizes=72x72 /><link href="/apple-touch-icon-76x76-precomposed.png" rel=apple-touch-icon sizes=76x76 /><link href="/apple-touch-icon-114x114-precomposed.png" rel=apple-touch-icon sizes=114x114 /><link href="/apple-touch-icon-120x120-precomposed.png" rel=apple-touch-icon sizes=120x120 /><link href="/apple-touch-icon-144x144-precomposed.png" rel=apple-touch-icon sizes=144x144 /><link href="/apple-touch-icon-152x152-precomposed.png" rel=apple-touch-icon sizes=152x152 /><link href="/favicon-196x196.png" rel=icon sizes=196x196 type="image/png"/><link href="/favicon-160x160.png" rel=icon sizes=160x160 type="image/png"/><link href="/favicon-96x96.png" rel=icon sizes=96x96 type="image/png"/><link href="/favicon-32x32.png" rel=icon sizes=32x32 type="image/png"/><link href="/favicon-16x16.png" rel=icon sizes=16x16 type="image/png"/><meta content="#f5f5f5" name=msapplication-TileColor /><meta content="/mstile-144x144.png" name=msapplication-TileImage /><link href="../assets/stylesheets/application-9cf11f51.css" rel=stylesheet /><link href="https://netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel=stylesheet /></head><body><div class=m-topbar id=js-topbar role=banner><nav aria-label=Primary class="m-topbar--list js-topbar--list is-away" role=navigation><a class=m-topbar--logo title="Retour à l’accueil" href="/"><img alt="davidl intégrateur web &amp; développeur front-end lille" src="../assets/images/atom-logo-e03c19e4.svg"/></a><a href="/about.html">À propos</a><a href="/blog/">Journal</a><a href="/contact.html">Contact</a></nav><div class=m-topbar--form id=js-topbar--form><a id=js-topbar--button class=l-menu href="#"><span>Menu</span></a><form action="//www.google.com/search" class="l-search-form is-hidden" method=get><input id=js-search-input name=q placeholder="Ex : Conseils et bonnes pratiques" type=search /><input name=sitesearch type=hidden value="http://davidl.fr"/></form><a id=js-topbar--search class=l-action href="#"><i class="fa fa-search"></i></a><a id=js-topbar--close class="l-action is-hidden" href="#"><i class="fa fa-close"></i></a></div></div><div class=m-content role=main><header class=m-hero-intro><div class=row id=top><div class="medium-12 columns"><h1 class=l-title>Utiliser interchange pour charger dynamiquement le bon HTML pour le bon navigateur</h1><div class=l-icon><i class="fa fa-angle-down"></i></div></div></div></header><div id=js-content></div><div class=row><div class="medium-8 columns"></div><div class="medium-4 columns"><p class=m-post-list--calendar><i class="fa fa-calendar i-custom fa-lg"></i><span class=l-day>24</span>/<span class=l-month>01</span>/<span class=l-year>2014</span></p></div></div><article class=row itemscope="" itemtype="http://schema.org/BlogPosting" role=article><div class="medium-8 medium-centered columns blog-article" itemprop=articleBody><p>Dans le framework foundation <a href="//foundation.zurb.com/docs/components/visibility.html">les classes de visibilité</a> permettent d'afficher ou de masquer des éléments qui sont pertinent en fonction des appareils. Par exemple, j’affiche une petite image sur un téléphone et une version plus grande pour les ordinateurs. Dans un autre cas je souhaite masquer le menu de navigation au profit de petites icônes. Les classes de visibilité permettent de masquer les éléments inappropriés pour chaque <code>viewport</code>.</p> <p>Le problème c’est que les utilisateurs doivent télécharger les 2 versions. C’est une perte de temps, de mémoire navigateur et de bande passante. Interchange permet de régler ce problème et c’est la façon la plus simple de sélectionner du contenu basé sur vos <code>mediaquery</code> Avec interchange chaque navigateur télécharge ce qu’il ont besoin non pas ce qu’iil est possible de télécharger. Dans cet article je vais expliquer comment mettre en place cette solution pour utiliser interchange avec votre contenu HTML.</p> <p>Pour voir un exemple, je vous invite à visiter le site de cet <a href="//chambredesanges.be/">chambre d’hôte</a> à Bruxelles. Le contenu de ce site est <a href="https://github.com/css-ninja/chamber">disponible sur github</a>.</p> <h2 id=conventions-et-mises-en-garde>Conventions et mises en garde</h2> <p>Interchange est assez souple, mais pour des raisons pratiques j’ai placé le contenu chargé par interchange dans le <a href="https://github.com/css-ninja/chamber/tree/master/source">dossier source</a> qui sera à la racine de mon site web. Pour une grosse application il est impératif d’architecturer correctement vos vues.</p> <h2 id=contenu-interactif>Contenu interactif</h2> <p>Dans cet exemple, j’utilise interchange pour :</p> <ul> <li>Afficher une image statique par défaut</li> <li>Afficher une google map interactive pour les écrans larges</li> </ul> <p>Je sépare ces vues dans 2 fichiers <code>maps-small.html.slim</code> et <code>maps-medium.html.slim</code></p> <p>Avec interchange je charge ce contenu dans ma vue <code>_map.html.slim</code></p> <p><a href="https://github.com/css-ninja/chamber/blob/master/source/maps-small.html.slim">maps-small.html.slim</a> : Charge le contenu par défaut</p> <p><a href="https://github.com/css-ninja/chamber/blob/master/source/maps-medium.html.slim">maps-medium.html.slim</a> : Chargez ce contenu sur grand écran (dans cet exemple avec une largeur supérieure à 600px) Commençons en activant interchange sur notre page. Nous allons ajouter un texte par défaut "Chargement de la carte …" :</p> <pre class="highlight html"><code>    <span class="nt">&lt;div</span> <span class="na">data-interchange=</span><span class="s">""</span><span class="nt">&gt;</span>
      Chargement de la carte...
    <span class="nt">&lt;/div&gt;</span>
</code></pre> <p>Ensuite, nous allons modifier <code>data-interchange</code> pour lui dire quel est le contenu à charger en fonction de la <code>mediaquery</code></p> <pre class="highlight html"><code>    <span class="nt">&lt;div</span> <span class="na">data-interchange=</span><span class="s">"[maps-small.html, (default)], [maps-medium.html, (large)]"</span><span class="nt">&gt;</span>
      Chargement de la carte...
    <span class="nt">&lt;/div&gt;</span>
</code></pre> <p>Et voilà, la magie opère ! Regardez <a href="//chambredesanges.be/">cet exemple pour voir la carte</a>.</p> <h2 id=visibilit>Visibilité</h2> <p>Il y a des cas où vous souhaitez uniquement afficher certains contenus en fonction des tailles d'écran. Imaginez une galerie de photos. Avec <a href="//foundation.zurb.com/docs/components/visibility.html">les classes de visibilité</a>, vous pouvez masquer le contenu, mais il sera téléchargé en arrière-plan. Niveau performance c'est zéro !</p> <p>Avec interchange, il est possible de montrer / charger du contenu seulement sur les appareils appropriés. Pour afficher notre site plus rapidement sur les petits écrans, il est possible de ne rien télécharger.</p> <p>Dans ce cas notre vue <code>image_gallery.html.slim</code> est un carousel avec beaucoups d'images. Pour le charger sur de grands écrans il suffit d'écrire le code suivant :</p> <pre class="highlight html"><code>    <span class="nt">&lt;div</span> <span class="na">data-interchange=</span><span class="s">"[image_gallery.html, (large)]"</span><span class="nt">&gt;</span>
      ...
    <span class="nt">&lt;/div&gt;</span>
</code></pre> <p>NOTE : Si vous redimensionnez la fenêtre après que le contenu soit chargé, il ne sera pas automatiquement supprimé. Cela se produit s'il n'y a pas de requête de média correspondant.</p> <div class=row><div class="medium-8 medium-centered columns"><aside class=m-blog-panel itemprop=author itemscope="" itemtype="http://schema.org/Person" role=complementary><div class=row><div class="small-8 columns"><p>Publié par <a href="https://plus.google.com/+DavidLeulietteWeb?rel=author" itemprop=name>David Leuliette</a><br/><span itemprop=jobTitle>Développeur front-end </span></p><hr/><p>J'aime travailler avec les technologies web et le faire de la bonne façon. Je suis <em itemprop=title>évangéliste open source</em> , mon objectif est de partager les bonnes pratiques avec le plus grand nombre. </p><p><i class="fa fa-fw fa-twitter"></i><span itemprop=nickname><a href="https://twitter.com/_flexbox">@_flexbox</a> </span>sur twitter </p><p><i class="fa fa-fw fa-rss"></i><a href="/feed.xml">S'incrire au flux RSS</a></p></div><div class="small-4 columns"><a class=l-avatar href="/about.html"><img itemprop=image alt="Avatar Aperture Science" src="../assets/images/front/aperture-science-avatar-02c0ce7d.jpg"/></a></div></div></aside></div></div></div></article><div class=row><div class="small-12 columns"><p><a href="#top"><i class="i-custom fa fa-arrow-up"></i>Haut de page </a></p></div></div></div><footer class=m-footer role=contentinfo><nav class=row role=navigation><div class="medium-3 small-6 columns"><ul class=side-nav><li><a title="Mes engagements envers le web" href="/manifesto.html">Manifeste</a></li><li><a title="Cliquez si vous êtes perdus" href="/sitemap.html">Plan du site</a></li><li><a title="Je lis TOUS mes emails" href="/contact.html">Contact</a></li><li><a title="Je réponds chaque semaine à une question" href="/ask-me.html">Une question ?</a></li></ul></div><div class="medium-3 small-6 columns"><ul class=side-nav><li><a title="Publication d'articles sur l'intégration &amp; le développement front-end" href="/blog/">Blog</a></li><li><a title="conseils de lecture" href="/books.html">Bibliothèque</a></li><li><a title="Liste de personnes à suivre" href="/mentors.html">Mentors</a></li><li><a title="Travailler efficacement" href="/toolkit.html">Outils</a></li></ul></div><div class="medium-6 columns"><p class=m-footer--title>Améliorer vos compétences</p><p>Recevez mes conseils en développement front-end. Ne vous inquétez pas je déteste le spam, il suffit d'un clic pour se désabonner.</p><form action="//davidl.us3.list-manage2.com/subscribe/post?u=b72e60a9116993dde8d1547fe&amp;id=e99fbeb8ad" method=post name=mc-embedded-subscribe-form target=_blank><div class=row><div class="small-12 columns"><label for=js-mailchimpemail>S'abonner pour ne pas manquer les nouvelles publications </label></div></div><div class="row collapse"><div class="small-8 columns"><input autocapitalize=none autocorrect=off class=m-mailchimpemail id=js-mailchimpemail name=EMAIL placeholder="Saisissez votre adresse e-mail" required="" type=email /><div class=hide><input name=b_b72e60a9116993dde8d1547fe_e99fbeb8ad /></div></div><div class="small-4 columns"><input class="button postfix" id=mc-embedded-subscribe name=subscribe type=submit value="S’inscrire"/></div></div></form></div></nav><hr/><p class=l-text>Ce site open source est hébergé sur <a href="https://github.com/flexbox/davidl">GitHub</a>. Patches, suggestions et commentaires sont les bienvenus. </p><hr/><p class=l-text>davidl.fr est rédigé et administré par <a href="/human.txt">David Leuliette</a>, sous licence <a href="/gnu.html">GNU/GPL</a>. Vous pouvez lire les <a title="Licence du site &amp; hébergement" href="/legal.html">Mentions légales</a>. </p><p class=l-text>Dernière mise à jour le <time datetime=2015-03-14>14/03/2015. </time></p></footer><script src="../assets/javascripts/application-0ae2abd4.js"></script><script>!function(e,a,n,t,c,o,s){e.GoogleAnalyticsObject=c,e[c]=e[c]||function(){(e[c].q=e[c].q||[]).push(arguments)},e[c].l=1*new Date,o=a.createElement(n),s=a.getElementsByTagName(n)[0],o.async=1,o.src=t,s.parentNode.insertBefore(o,s)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-46684635-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview");</script></body></html>